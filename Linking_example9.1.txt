# This file contains the modified linking steps to obtain example9.1 binary file

# Locate CudaManager-cuda-nvptx64-nvidia-cuda-sm_50.bc NavStateIndex-cuda-nvptx64-nvidia-cuda-sm_50.bc files in oneAdePT
# To regenerate them try 
#   for NavStateIndex-cuda-nvptx64-nvidia-cuda-sm_50.bc
#   dadosaru@pcphsft106:~/VecGeom/VecGeom$ clang-13 -x cu -fgpu-rdc --cuda-gpu-arch=sm_50 ../source/NavStateIndex.cpp -emit-llvm -c -I../ -I../vecgeom-build -I/home/dadosaru/local/include/ -DVECCORE_CUDA=1
#
#   for CudaManager-cuda-nvptx64-nvidia-cuda-sm_50.bc
#   dadosaru@pcphsft106:~/VecGeom/VecGeom$ clang-13 -fgpu-rdc --cuda-gpu-arch=sm_50 ../source/CudaManager.cu -emit-llvm -c -I../ -I../vecgeom-build -I/home/dadosaru/local/include/  -DVECCORE_ENABLE_CUDA -I../management




# $ cd oneAdePT
# $ cp CudaManager-cuda-nvptx64-nvidia-cuda-sm_50.bc NavStateIndex-cuda-nvptx64-nvidia-cuda-sm_50.bc debug/examples/Example9.1
# $ cd ~/oneAdePT/debug/examples/Example9.1
# execute the following steps (obtained with -###) llvm-link is modified.


"clang-offload-bundler" "-type=ao" "-targets=host-x86_64-unknown-linux-gnu" "-inputs=/home/dadosaru/local/lib/libvgdml.a" "-check-section" 
"clang-offload-bundler" "-type=ao" "-targets=host-x86_64-unknown-linux-gnu" "-inputs=/home/dadosaru/local/lib/libvecgeom.a" "-check-section" 
"clang-offload-bundler" "-type=ao" "-targets=host-x86_64-unknown-linux-gnu" "-inputs=/home/dadosaru/local/lib/libvecgeomcuda_static.a" "-check-section" 
"clang-offload-bundler" "-type=o" "-targets=sycl-spir64-unknown-unknown-sycldevice" "-inputs=CMakeFiles/example9.1.dir/example9.cpp.o" "-check-section" 
"clang-offload-bundler" "-type=o" "-targets=sycl-spir64-unknown-unknown-sycldevice" "-inputs=CMakeFiles/example9.1.dir/example9.dp.cpp.o" "-check-section" 
"clang-offload-bundler" "-type=o" "-targets=sycl-spir64-unknown-unknown-sycldevice" "-inputs=CMakeFiles/example9.1.dir/electrons.dp.cpp.o" "-check-section" 
"clang-offload-bundler" "-type=o" "-targets=sycl-spir64-unknown-unknown-sycldevice" "-inputs=CMakeFiles/example9.1.dir/gammas.dp.cpp.o" "-check-section" 
"clang-offload-bundler" "-type=o" "-targets=sycl-spir64-unknown-unknown-sycldevice" "-inputs=CMakeFiles/example9.1.dir/cmake_device_link.o" "-check-section" 
"clang-offload-bundler" "-type=ao" "-targets=sycl-spir64-unknown-unknown-sycldevice" "-inputs=/home/dadosaru/local/lib/libvgdml.a" "-check-section" 
"clang-offload-bundler" "-type=ao" "-targets=sycl-spir64-unknown-unknown-sycldevice" "-inputs=/home/dadosaru/local/lib/libvecgeom.a" "-check-section" 
"clang-offload-bundler" "-type=ao" "-targets=sycl-spir64-unknown-unknown-sycldevice" "-inputs=/home/dadosaru/local/lib/libvecgeomcuda_static.a" "-check-section" 
"clang-offload-bundler" "-type=ao" "-targets=sycl-fpga_aocx-intel-unknown-sycldevice" "-inputs=/home/dadosaru/local/lib/libvgdml.a" "-check-section" 
"clang-offload-bundler" "-type=ao" "-targets=sycl-fpga_aocr-intel-unknown-sycldevice" "-inputs=/home/dadosaru/local/lib/libvgdml.a" "-check-section" 
"clang-offload-bundler" "-type=ao" "-targets=sycl-fpga_aocr_emu-intel-unknown-sycldevice" "-inputs=/home/dadosaru/local/lib/libvgdml.a" "-check-section" 
"clang-offload-bundler" "-type=ao" "-targets=host-x86_64-unknown-linux-gnu" "-inputs=/home/dadosaru/local/lib/libvgdml.a" "-check-section" 
"clang-offload-bundler" "-type=ao" "-targets=sycl-fpga_aocx-intel-unknown-sycldevice" "-inputs=/home/dadosaru/local/lib/libvecgeom.a" "-check-section" 
"clang-offload-bundler" "-type=ao" "-targets=sycl-fpga_aocr-intel-unknown-sycldevice" "-inputs=/home/dadosaru/local/lib/libvecgeom.a" "-check-section" 
"clang-offload-bundler" "-type=ao" "-targets=sycl-fpga_aocr_emu-intel-unknown-sycldevice" "-inputs=/home/dadosaru/local/lib/libvecgeom.a" "-check-section" 
"clang-offload-bundler" "-type=ao" "-targets=host-x86_64-unknown-linux-gnu" "-inputs=/home/dadosaru/local/lib/libvecgeom.a" "-check-section" 
"clang-offload-bundler" "-type=ao" "-targets=sycl-fpga_aocx-intel-unknown-sycldevice" "-inputs=/home/dadosaru/local/lib/libvecgeomcuda_static.a" "-check-section" 
"clang-offload-bundler" "-type=ao" "-targets=sycl-fpga_aocr-intel-unknown-sycldevice" "-inputs=/home/dadosaru/local/lib/libvecgeomcuda_static.a" "-check-section" 
"clang-offload-bundler" "-type=ao" "-targets=sycl-fpga_aocr_emu-intel-unknown-sycldevice" "-inputs=/home/dadosaru/local/lib/libvecgeomcuda_static.a" "-check-section" 
"clang-offload-bundler" "-type=ao" "-targets=host-x86_64-unknown-linux-gnu" "-inputs=/home/dadosaru/local/lib/libvecgeomcuda_static.a" "-check-section" 
 "/home/dadosaru/sycl_workspace_aug/llvm/build/install/bin/clang-offload-bundler" "-type=o" "-targets=host-x86_64-unknown-linux-gnu,sycl-nvptx64-nvidia-cuda-sycldevice-sm_61" "-inputs=CMakeFiles/example9.1.dir/example9.cpp.o" "-outputs=/tmp/example9-c35c67.o,/tmp/example9-9e4105.o" "-unbundle" "-allow-missing-bundles"
 "/home/dadosaru/sycl_workspace_aug/llvm/build/install/bin/clang-offload-bundler" "-type=o" "-targets=host-x86_64-unknown-linux-gnu,sycl-nvptx64-nvidia-cuda-sycldevice-sm_61" "-inputs=CMakeFiles/example9.1.dir/example9.dp.cpp.o" "-outputs=/tmp/example9-67ae3b.o,/tmp/example9-03fa39.o" "-unbundle" "-allow-missing-bundles"
 "/home/dadosaru/sycl_workspace_aug/llvm/build/install/bin/clang-offload-bundler" "-type=o" "-targets=host-x86_64-unknown-linux-gnu,sycl-nvptx64-nvidia-cuda-sycldevice-sm_61" "-inputs=CMakeFiles/example9.1.dir/electrons.dp.cpp.o" "-outputs=/tmp/electrons-304588.o,/tmp/electrons-a5bf12.o" "-unbundle" "-allow-missing-bundles"
 "/home/dadosaru/sycl_workspace_aug/llvm/build/install/bin/clang-offload-bundler" "-type=o" "-targets=host-x86_64-unknown-linux-gnu,sycl-nvptx64-nvidia-cuda-sycldevice-sm_61" "-inputs=CMakeFiles/example9.1.dir/gammas.dp.cpp.o" "-outputs=/tmp/gammas-6a0bc0.o,/tmp/gammas-028a1b.o" "-unbundle" "-allow-missing-bundles"
 "/home/dadosaru/sycl_workspace_aug/llvm/build/install/bin/clang-offload-bundler" "-type=o" "-targets=host-x86_64-unknown-linux-gnu,sycl-nvptx64-nvidia-cuda-sycldevice-sm_61" "-inputs=CMakeFiles/example9.1.dir/cmake_device_link.o" "-outputs=/tmp/cmake_device_link-51e4b1.o,/tmp/cmake_device_link-de214a.o" "-unbundle" "-allow-missing-bundles"
 "/home/dadosaru/sycl_workspace_aug/llvm/build/install/bin/llvm-link" "/tmp/example9-9e4105.o" "/tmp/example9-03fa39.o" "/tmp/electrons-a5bf12.o" "/tmp/gammas-028a1b.o" "/tmp/cmake_device_link-de214a.o" "-o" "/tmp/example9-aef5e0.bc" "--suppress-warnings"
 "/home/dadosaru/sycl_workspace_aug/llvm/build/install/bin/sycl-post-link" "-split=auto" "-emit-program-metadata" "-symbols" "-split-esimd" "-lower-esimd" "-O3" "-spec-const=default" "-o" "/tmp/example9-74b7f7.bc" "/tmp/example9-aef5e0.bc"
 "/home/dadosaru/sycl_workspace_aug/llvm/build/install/bin/file-table-tform" "-extract=Code" "-drop_titles" "-o" "/tmp/example9-8f90aa.bc" "/tmp/example9-74b7f7.bc"
 "/home/dadosaru/sycl_workspace_aug/llvm/build/install/bin/llvm-foreach" "--out-ext=s" "--in-file-list=/tmp/example9-8f90aa.bc" "--in-replace=/tmp/example9-8f90aa.bc" "--out-file-list=/tmp/example9-bfb947.s" "--out-replace=/tmp/example9-bfb947.s" "--" "/home/dadosaru/sycl_workspace_aug/llvm/build/install/bin/clang-13" "-cc1" "-triple" "nvptx64-nvidia-cuda-sycldevice" "-aux-triple" "x86_64-unknown-linux-gnu" "-fsycl-is-device" "-fdeclare-spirv-builtins" "-Wno-sycl-strict" "-sycl-std=2020" "-S" "-disable-free" "-main-file-name" "example9.cpp.o" "-mrelocation-model" "static" "-mframe-pointer=all" "-fno-rounding-math" "-fno-verbose-asm" "-no-integrated-as" "-aux-target-cpu" "x86-64" "-internal-isystem" "/home/dadosaru/sycl_workspace_aug/llvm/build/install/bin/../include/sycl" "-internal-isystem" "/home/dadosaru/sycl_workspace_aug/llvm/build/install/bin/../include" "-mlink-builtin-bitcode" "/home/dadosaru/sycl_workspace_aug/llvm/build/install/lib/clang/13.0.0/../../clc/libspirv-nvptx64--nvidiacl.bc" "-mlink-builtin-bitcode" "/usr/local/cuda-11.1/nvvm/libdevice/libdevice.10.bc" "-target-feature" "+ptx71" "-target-sdk-version=11.1" "-target-cpu" "sm_61" "-mllvm" "-treat-scalable-fixed-error-as-warning" "-debug-info-kind=line-directives-only" "-dwarf-version=2" "-debugger-tuning=gdb" "-fno-dwarf-directory-asm" "-resource-dir" "/home/dadosaru/sycl_workspace_aug/llvm/build/install/lib/clang/13.0.0" "-O3" "-Wno-unknown-cuda-version" "-std=c++20" "-fdebug-compilation-dir=/home/dadosaru/oneAdePT/debug/examples/Example9.1" "-ferror-limit" "19" "-fgnuc-version=4.2.1" "-fno-implicit-modules" "-fcolor-diagnostics" "-vectorize-loops" "-vectorize-slp" "-D__GCC_HAVE_DWARF2_CFI_ASM=1" "-o" "/tmp/example9-bfb947.s" "-x" "ir" "/tmp/example9-8f90aa.bc"
 "/home/dadosaru/sycl_workspace_aug/llvm/build/install/bin/llvm-foreach" "--out-ext=o" "--in-file-list=/tmp/example9-bfb947.s" "--in-replace=/tmp/example9-bfb947.s" "--out-file-list=/tmp/example9-a15c39.o" "--out-replace=/tmp/example9-a15c39.o" "--" "/usr/local/cuda-11.1/bin/ptxas" "-m64" "-O3" "-lineinfo" "--gpu-name" "sm_61" "--output-file" "/tmp/example9-a15c39.o" "/tmp/example9-bfb947.s"
 "/home/dadosaru/sycl_workspace_aug/llvm/build/install/bin/llvm-foreach" "--out-ext=fatbin" "--in-file-list=/tmp/example9-bfb947.s" "--in-replace=/tmp/example9-bfb947.s" "--in-file-list=/tmp/example9-a15c39.o" "--in-replace=/tmp/example9-a15c39.o" "--out-file-list=/tmp/example9-7d8626.fatbin" "--out-replace=/tmp/example9-7d8626.fatbin" "--" "/usr/local/cuda-11.1/bin/fatbinary" "-64" "--create" "/tmp/example9-7d8626.fatbin" "--image=profile=compute_61,file=/tmp/example9-bfb947.s" "--image=profile=sm_61,file=/tmp/example9-a15c39.o"
 "/home/dadosaru/sycl_workspace_aug/llvm/build/install/bin/file-table-tform" "-replace=Code,Code" "-o" "/tmp/example9-7aa21a.table" "/tmp/example9-74b7f7.bc" "/tmp/example9-7d8626.fatbin"
 "/home/dadosaru/sycl_workspace_aug/llvm/build/install/bin/clang-offload-wrapper" "-o=/tmp/wrapper-d438d7.bc" "-host=x86_64-unknown-linux-gnu" "-compile-opts=-g --cuda-gpu-arch=sm_61" "-target=nvptx64" "-kind=sycl" "-batch" "/tmp/example9-7aa21a.table"
 "/home/dadosaru/sycl_workspace_aug/llvm/build/install/bin/llc" "-filetype=obj" "-o" "/tmp/example9-999293.o" "/tmp/wrapper-d438d7.bc"
 "/home/dadosaru/sycl_workspace_aug/llvm/build/install/bin/clang-offload-bundler" "-type=o" "-targets=host-x86_64-unknown-linux-gnu,sycl-nvptx64-nvidia-cuda-sycldevice-sm_61" "-inputs=CMakeFiles/example9.1.dir/example9.cpp.o" "-outputs=/tmp/example9-f8854b.o,/tmp/example9-eb862b.o" "-unbundle" "-allow-missing-bundles"
 "/home/dadosaru/sycl_workspace_aug/llvm/build/install/bin/clang-offload-bundler" "-type=o" "-targets=host-x86_64-unknown-linux-gnu,sycl-nvptx64-nvidia-cuda-sycldevice-sm_61" "-inputs=CMakeFiles/example9.1.dir/example9.dp.cpp.o" "-outputs=/tmp/example9-c957b6.o,/tmp/example9-140a69.o" "-unbundle" "-allow-missing-bundles"
 "/home/dadosaru/sycl_workspace_aug/llvm/build/install/bin/clang-offload-bundler" "-type=o" "-targets=host-x86_64-unknown-linux-gnu,sycl-nvptx64-nvidia-cuda-sycldevice-sm_61" "-inputs=CMakeFiles/example9.1.dir/electrons.dp.cpp.o" "-outputs=/tmp/electrons-e3e1cb.o,/tmp/electrons-8b3008.o" "-unbundle" "-allow-missing-bundles"
 "/home/dadosaru/sycl_workspace_aug/llvm/build/install/bin/clang-offload-bundler" "-type=o" "-targets=host-x86_64-unknown-linux-gnu,sycl-nvptx64-nvidia-cuda-sycldevice-sm_61" "-inputs=CMakeFiles/example9.1.dir/gammas.dp.cpp.o" "-outputs=/tmp/gammas-cf3455.o,/tmp/gammas-f2e499.o" "-unbundle" "-allow-missing-bundles"
 "/home/dadosaru/sycl_workspace_aug/llvm/build/install/bin/clang-offload-bundler" "-type=o" "-targets=host-x86_64-unknown-linux-gnu,sycl-nvptx64-nvidia-cuda-sycldevice-sm_61" "-inputs=CMakeFiles/example9.1.dir/cmake_device_link.o" "-outputs=/tmp/cmake_device_link-badb44.o,/tmp/cmake_device_link-427233.o" "-unbundle" "-allow-missing-bundles"
 "/usr/bin/ld" "-z" "relro" "--hash-style=gnu" "--eh-frame-hdr" "-m" "elf_x86_64" "-dynamic-linker" "/lib64/ld-linux-x86-64.so.2" "-o" "example9.1" "/usr/lib/x86_64-linux-gnu/crt1.o" "/usr/lib/x86_64-linux-gnu/crti.o" "/usr/lib/gcc/x86_64-linux-gnu/9/crtbegin.o" "-L/usr/lib/gcc/x86_64-linux-gnu/9" "-L/usr/lib/gcc/x86_64-linux-gnu/9/../../../../lib64" "-L/lib/x86_64-linux-gnu" "-L/lib/../lib64" "-L/usr/lib/x86_64-linux-gnu" "-L/usr/lib/../lib64" "-L/home/dadosaru/sycl_workspace_aug/llvm/build/install/bin/../lib" "-L/lib" "-L/usr/lib" "/tmp/example9-f8854b.o" "/tmp/example9-c957b6.o" "/tmp/electrons-e3e1cb.o" "/tmp/gammas-cf3455.o" "/tmp/cmake_device_link-badb44.o" "-rpath" "/home/dadosaru/oneAdePT/debug/external/g4hepem/lib:/usr/local/lib:/home/dadosaru/local/lib" "/home/dadosaru/local/lib/libvgdml.a" "/home/dadosaru/local/lib/libvecgeom.a" "/home/dadosaru/local/lib/libvecgeomcuda_static.a" "../../external/g4hepem/lib/libg4HepEmInit.so" "../../external/g4hepem/lib/libg4HepEmRun.so" "-ldl" "-lrt" "-lpthread" "/usr/local/lib/libxerces-c.so" "/home/dadosaru/local/lib/libG4Tree.so" "/home/dadosaru/local/lib/libG4FR.so" "/home/dadosaru/local/lib/libG4GMocren.so" "/home/dadosaru/local/lib/libG4visHepRep.so" "/home/dadosaru/local/lib/libG4RayTracer.so" "/home/dadosaru/local/lib/libG4VRML.so" "/home/dadosaru/local/lib/libG4vis_management.so" "/home/dadosaru/local/lib/libG4modeling.so" "/home/dadosaru/local/lib/libG4interfaces.so" "/home/dadosaru/local/lib/libG4persistency.so" "/home/dadosaru/local/lib/libG4error_propagation.so" "/home/dadosaru/local/lib/libG4readout.so" "/home/dadosaru/local/lib/libG4physicslists.so" "/home/dadosaru/local/lib/libG4tasking.so" "/home/dadosaru/local/lib/libG4run.so" "/home/dadosaru/local/lib/libG4event.so" "/home/dadosaru/local/lib/libG4tracking.so" "/home/dadosaru/local/lib/libG4parmodels.so" "/home/dadosaru/local/lib/libG4processes.so" "/home/dadosaru/local/lib/libG4analysis.so" "/usr/lib/x86_64-linux-gnu/libexpat.so" "/home/dadosaru/local/lib/libG4digits_hits.so" "/home/dadosaru/local/lib/libG4track.so" "/home/dadosaru/local/lib/libG4particles.so" "/home/dadosaru/local/lib/libG4geometry.so" "/home/dadosaru/local/lib/libG4materials.so" "/home/dadosaru/local/lib/libG4graphics_reps.so" "/home/dadosaru/local/lib/libG4intercoms.so" "/home/dadosaru/local/lib/libG4global.so" "/home/dadosaru/local/lib/libG4zlib.so" "/home/dadosaru/local/lib/libG4ptl.so.0.0.2" "-lpthread" "/home/dadosaru/local/lib/libG4clhep.so" "../../external/g4hepem/lib/libg4HepEmData.so" "/tmp/example9-999293.o" "-lstdc++" "-lm" "-lgcc_s" "-lgcc" "-lsycl" "-lc" "-lgcc_s" "-lgcc" "/usr/lib/gcc/x86_64-linux-gnu/9/crtend.o" "/usr/lib/x86_64-linux-gnu/crtn.o" -L/usr/local/cuda/lib64 -lcudart -lOpenCL

